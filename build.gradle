plugins {
	id 'java-library'
	id 'maven-publish'
	id 'com.jfrog.bintray' version '1.8.4'
}

java {
	sourceCompatibility = targetCompatibility = JavaVersion.VERSION_1_8
	withSourcesJar()
}

repositories {
	jcenter()
}

dependencies {
	implementation files("libs/RobotCore.jar")
}

publishing {
	publications {
		maven(MavenPublication) {
			groupId = 'com.ftc11392'
			artifactId = 'sequoia'
			version = '0.1.0'

			from components.java
		}
	}

	repositories {
		maven {
			url = "$buildDir/repo"
		}
	}
}

bintray {
	user = System.getenv('BINTRAY_USER')
	key = System.getenv('BINTRAY_API_KEY')

	publications = ['maven']

	pkg {
		repo = 'maven'
		name = 'Sequoia'
		userOrg = 'highoakrobotics'
		vcsUrl = 'https://github.com/HighOakRobotics/Sequoia'
		version {
			name = '0.1.0'
			desc = '0.1.0'
			released  = new Date()
		}
	}
}